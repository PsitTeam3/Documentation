---
title: Anforderungsanalyse
klass: IT15TA ZH
group: Gruppe 3
date: 28.03.2017
author:
  - Andreas Saurer
  - Benjamin Schneidinger
  - Josef Erben
  - Raffaele Bof
  - Nicolas Loth

documentclass: article
fontfamily: roboto
fontfamilyoptions: sfdefault
lang: de
toc: 1
colorlinks: 1
graphics: 1
geometry: 1
numbersections: 1
---

# Versionenlog

| **Datum**         | **Version** | **Änderung**                                         |
| ----------------  | ----------- | ---------------------------------------------------- |
| 24.03.2017        | 0.0.1       | Anwendungsfälle beschrieben und Systemsequenzdiagramm eingebunden |
| 21.03.2017        | 0.0.0       | Dokument erstellt                                    |
\newpage

# Projektmanagement
# Projektmanagement
## Projektstatus
Das Projekt befindet sich auf Kurs, der erste Meilenstein wurde erreicht der zweite bevorstehende Meilenstein ist fast Fertig gestellt.
Die unten gezeigte Grafik zeigt eine Grobe übersicht des Projektes, eine Detailliertere befindet sich im folgenden Abschnitt.

** TODO: Grafik einfügen **

## Detaillierter Projektplan
| **Phase**     | **NR**    | **Arbeitspaket**                              | **Soll**     |   **Ist**    |
| :------------ | :-------: | :-------------------------------------------: | -----------: | -----------: |
| Inception     |           |                                               |              |              |
|               | A-01      | Ausgangslage schildern                        | 5,0 h        |              |
|               | A-02      | Projektidee beschreiben                       | 5,0 h        |              |
|               | A-03      | Kundennutzen analysieren                      | 5,0 h        |              |      
|               | A-04      | Projektidee beschreiben                       | 5,0 h        |              |      
|               | A-05      | Konkurenzanalyse                              | 5,0 h        |              |      
|               | A-06      | Haupablauf aufzeigen                          | 5,0 h        |              |      
|               | A-07      | Weitere Anforderungen definieren              | 5,0 h        |              |      
|               | A-08      | Ressource beschreiben                         | 5,0 h        |              |      
|               | A-09      | Projektidee beschreiben                       | 5,0 h        |              |      
|               | A-10      | Risiken beschreiben                           | 5,0 h        |              |      
|               | A-11      | Grobplanung erstellen                         | 5,0 h        | 3,5 h        |      
|               | A-12      | Wirtschaftlichkeitsanalyse                    | 5,0 h        | 6,0 h        |      
|               | A-13      | Projektskizze erstellen (inkl. Präsi)         | 5,0 h        |              |
| Total Phase:  | 13        |                                               | 65,0 h       |              |
| Inception     |           |                                               |              |              |
|               | B-01      | Projekmanagement organisieren                 | 5,0 h        | 6,0 h        |
|               | B-02      | Anwendungsfall Diagramm zeichnen              | 5,0 h        |              |
|               | B-03      | Domänenmodell erstellen                       | 5,0 h        |              |      
|               | B-04      | Architektur beschreiben                       | 5,0 h        |              |      
|               | B-05      | Zusätzliche Spezifikationen beschreiben       | 5,0 h        |              |      
|               | B-06      | Syste-Sequenzdiagramm zeichnen                | 5,0 h        |              |      
|               | B-07      | Glossar erstellen                             | 5,0 h        |              |      
|               | B-08      | Use-Case 1 beschreiben                        | 1,0 h        |              |    
|               | B-09      | Use-Case 2 beschreiben                        | 0,5 h        |              |       
|               | B-10      | Use-Case 3 beschreiben                        | 0,5 h        |              |       
|               | B-11      | Use-Case 4 beschreiben                        | 0,5 h        |              |       
|               | B-12      | Use-Case 5 beschreiben                        | 0,5 h        |              |       
|               | B-13      | Use-Case 6 beschreiben                        | 0,5 h        | 0,5 h        |      
|               | B-14      | Analysedokument erstellen (inkl. Präsi)       | 6,5 h        |              |
| Total Phase:  | 14        |                                               | 45,0 h       |              |
| Construction  |           |                                               |              |              |
|               | C-01      | Projekmanagement nachtragen                   | 1,0 h        |              |
|               | C-02      | UC-1 Liste der verfügbaren Touren             | ? h          |              |
|               | C-03      | UC-1 Starten einer Tour                       | ? h          |              |
|               | C-04      | UC-2 Lokalisieren des Benutzers               | ? h          |              |
|               | C-05      | UC-2 Anzeigen des Benutzers auf der Karte     | ? h          |              |
|               | C-06      | UC-3 Foto machen                              | ? h          |              |
|               | C-07      | UC-4 Prüfen der Geo koordinaten des Fotos     | ? h          |              |
|               | C-08      | UC-5 Besuchen des nächsten Punktes            | ? h          |              |
|               | C-09      | UC-6 Auslesen der Tourdaten                   | ? h          |              |
|               | C-10      | UC-6 Anzeigen der Tourdaten                   | ? h          |              |
|               | C-11      | UI gestalten                                  | ? h          |              |
|               | C-12      | Systemtests durchführen                       | ? h          |              |
|               | C-13      | Dokumentation erstellen                       | ? h          |              |
|               | C-14      | Benutzeranleitung schreiben                   | ? h          |              |
| Total Phase:  | 14        |                                               | ? h          |              |

## Risiken

| **NR**   | **Risiko**                                                              | **Auswirkung**     | **Wahrscheinlichkeit**    |
| -------: | :-------------------------------------------------------------------:   | -----------------: | ------------------------: |
| 1        | Schutz der gespeicherten Daten durch unauthorisierte Zugriffe           | Schwerwiegend      | Hoch                      |
| 2        | Hohe kosten für Anwender Aufgrund der verwendung durch Kartenmaterial   | Mittel             | Hoch                      |
| 3        | Fehlendes Wissen in der Entwicklung von Mobile Apps                     | Mittel             | Mittel                    |
| 4        | Höhere komplexität durch einbinden von 3 Anbieter Software              | Gering             | Mittel                    |
| 5        | Keine öffentlichen Karten-API verfügbar                                 | Schwerwiegend      | Sehr gering               |
| 6        | Smartphone GPS koordination ungenau                                     | Gering             | Mittel                    |             

# Anwendungsfälle
## UC 1: User wählt Tour aus und startet die Tour (Priorität 1)
### Primärer Akteur
Benutzer

### Stakeholders und Interessen
- Benutzer: Will mit einfachen Schritten eine passende Tour finden und starten
- Premium Tour Anbieter: Will seine Tour prominent plaziert haben um öfters ausgewählt zu werden

### Vorbedingungen
- Benutzer ist angemeldet
- Touren sind auf Server erfasst

### Erfolgsgarantie
Benutzer findete eine ansprechende Tour und kann diese starten

### Standardablauf
1. Benutzer öffnet app
2. Benutzer klickt auf neue Tour starten
3. App zeigt Auswahl von Touren
4. Benutzer öffnet Filter
5. Benutzer setzt Filter um gewünschte Tour zu finden
6. Benutzer klickt auf Tour
7. Tour wird gestartet
8. Der Benutzer begibt sich zum Startpunkt der Tour

### Erweiterungen
3a. Auswahl ist abhängig von gerade populären oder von Premium Anbietern beworbenen Touren\newline
6a. App zeigt Detailvorschau an\newline
6b. Benutzer klickt auf Tour starten oder schliessen\newline
8a. Die App zeigt dem Benutzer verschiedene Möglichkeiten an, wie er zum Startpunkt kommt.

### Spezielle Anforderungen
- Filtern der Touren muss flüssig reagieren, Resultate werden sofort angezeigt

### Auftrittshäufigkeit
Einmal pro Tour

## UC 2: User läuft Route ab und sieht seine aktuellen Standort auf einer Karte (Priorität 2)
### Erfolgszenario
Der Tourist befindet sich im Freien zwischen zwei Punkten auf einer Route, also einer Teilstrecke der Tour. Die App zeigt dem Benutzer seine aktuelle Position mit einem Marker (z.B. Punkt) an. Der User verlässt die Route, der Marker zeigt in Echtzeit die Position an, an der er sich befindet. Die App berechnet die neue Route mit der aktuellen Postion als Ausgangslage. Der User kann also zu jederzeit die optimale Route zwischen seiner aktuellen Position und dem Ziel nachschauen.

### Erfolgszenario mit Fallback
Der Tourist befindet sich auf einer Tour durch eine Altstadt. Die App zeigt dem Benutzer seine aktuelle Position mit einem Marker (z.B. Punkt) an, der Marker bewegt sich mit dem User mit. Die aktuelle Route zum nächsten Zwischenziel führt durch ein dicht überdachtes Gebiet. Die App kann die Position des Users nicht per GPS abfragen, in der Nähe stehen einige Läden und Restaurants mit WLAN. Die App kann durch eine Kombination von Standorten von Mobilfunkmasten und WLAN Sendern die aktuelle Position berechnen. Der Benutzer hat kein GPS Signal, aber sieht sich trotzdem als Punkt auf der Karte in Echtzeit.

## UC 3: User macht Foto am Besichtigungspunkt (Priorität 2)
### Erfolgszenario
An einem Zielpunkt / Besichtigungspunkt angelangt, wird der Benutzer aufgefordert, ein Foto
von einem vorgegebenen Objekt zu erstellen. Die App entscheidet danach ob die Informationen
des Fotos mit denjenigen im System gespeicherten übereinstimmen. Stimmt das Resultat, wird
der nächste Besichtigungspunkt angezeigt.

### Alternativszenario
Befindet sich der Benutzer nicht am korrekten Ort, wird er erneut aufgefordert das
vorgegebene Objekt zu fotografieren.

## UC 4: User bekommt Bestätigung für das Abarbeiten des Punktes, die Route zum nächsten Punkt wird angezeigt. (Priorität 2)
### Erfolgszenario
Nach dem korrekten validieren der Position des Touristen, zeigt die App dem Benutzer den
nächsten Besichtigungspunkt mit einem Marker auf einer Karte an. Von seinem aktuellen Standort
wird eine vordefinierte Route zum nächsten Besichtigungspunkt abgebildet. Der Tourist
begiebt sich zum abgebildeten Punkt.

### Alternativszenario
Der Benutzer möchte die Tour unterbrechen und zu einem späteren Zeitpunkt fortsetzen. Er
schliesst die App und kehrt nach unbestimmter Zeit zurück. Die App zeigt dann den letzten
Stand und fragt nach der Weiterführung oder Abbruch der Tour.

## UC 5: User besucht nächste Punkte bis Tour zu Ende. (Priorität 2)
UC1 und UC2 werden solange wiederholt, bis der Tourist am Ende der Tour ist. Hat er den
letzten Punkt erreicht, wird dem Benutzer der Abschluss mit einer Nachricht bestätigt und
mit UC 6 fortgefahren.

## UC 6: User sieht Statistik der Tour. (Priorität 3)
Nach erfolgreichem erreichen des Zielpunktes und dem Abschluss der Tour, wird dem Benutzer
eine übersicht mit Statistiken wie z.B. der total zurück gelegten Distanz und totale
Schritte angezeigt. Durch einen klick kann der Benutzer Fotos, die Statistik und eine
Mitteilung auf den sozialen Medien teilen.

# Anwendungsfalldiagramm
TODO by Beni
REVIEW by Josef

# Domänenmodell

Das folgende Domänenmodell zeigt eine grobe Übersicht der Ausgangslage, der identifizierten Objekte und Tätigkeiten der Benutzer.

![Domain_Model](docs/diagrams/domain_model1.jpg)

| **Objekte** | **Beschreibung** |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| User | Ein Benutzer kann in zwei verschiedenen Rollen auftreten. Als **Contributor** oder **Tourist** auftreten. |
| Contributor / Agencies | Ein **Contributor** erstellt und erfasst Inhalt (d.h.: **Touren**, **Routen** und **Point of Interests**). Ein Subtyp davon sind **Agencies**, also Reisebüros und Tourismusorganisationen), die als zertifizierte Erfasser agieren. |
| Tourist | Ein **Tourist** ist der eigentliche Benutzer der,App. Er ist auf Reisen (**Trip**) und möchte an einem Ort bzw. in einer,Stadt eine **Tour** unternehmen, um die wichtigsten oder spannendsten **Point of Interest** kennen zu lernen. Er verwendet dafür die **Mobile App**. |
| Mobile App | Das ganze Applikations-System ist in zwei Komponenten aufgeteilt. Die **Mobile App** wird vom **Touristen** verwendet um sich damit unterstützt entlang einer **Tour** steuern zu lassen. |
| Web App | Die **Web App** bietet die funktionale Schnittstelle für **Contributors**. |
| Trip | Ein **Tourist** macht eine Reise und hat dort je nach Ort und Stadt mehrere verschiedene **Touren** zur Auswahl. |
| Tour | Eine **Tour** ist eine Sammlung von **Point of Interest**s in einer bestimmten **Stadt**, die über eine bestimmte **Route** miteinander verbunden sind. |
| Route | Eine **Route** stellt eine Verbindung von mehreren **Point of Interests** dar. Eine Route kann mit verschiedenen **Verkehrsmitteln** absolviert werden. |
| Point of Interest | **Point of Interest** sind geographische Punkte, die eine Sehenswürdigkeit oder sonstige spezielle Eigenschaften bieten. Sie werden von einer **Route** verbunden. Der Tourist muss beim Absolvieren einer Route an jedem **Point of Interest** vorbeikommen und ein Foto schiessen. |
| Means of Transport | Verschiedene **Verkehrsmittel** z.B.: ÖV, Auto, Velo, zu Fuss usw… |
| Photo | An jedem **Point of Interest** schiesst der Benutzer mit seiner **Mobile App** ein **Foto** des Ortes oder der Sehenswürdigkeit. Die Koordinaten werden abgeglichen und der **Point of Interest** so als besucht abgehakt. |
| Statistik | Am Ende einer **Tour**, nachdem alle **Points of Interest**, besucht wurden, wird dem **Touristen** eine **Statistik** über seine absolvierte **Route**, Anzahl Schritte, Distanz usw… angezeigt. Diese ist in der **Mobile App** verknüpft mit seinen geschossen **Fotos**. |

\newpage
REVIEW by Raffaele

# Eine erste Architektur

Die Applikation besitzt mehrere Hauptkomponenten:
•	Mobile Application
•	Web Service
•	External Services
•	Web Application
Die Web Application wurde zur besseren Gesamtübersicht in die Darstellung integriert, ist aber nicht Bestandteil der Projekt-Umsetzung und wird daher auch nicht detaillierter beschrieben.

![First_Architecture](docs/diagrams/first_architecture1.jpg)

**Mobile Application:**
Die Mobile Application wird vom Touristen verwendet und bietet die Schnittstelle zu den eigentlichen Hauptfunktionalitäten.  Die App wird als 3-tier Applikation aufgebaut. Da die Daten, auch für eine allfällig zukünftige offline-fähigkeit, sowohl lokal in der App wie auch über die Data-Services persistiert werden bzw. zum Beispiel Fotos nur lokal gespeichert werden, teilt sich der Datenzugriffs-Layer, auf den Persistence Layer und den Data Service Layer auf. Als vertikaler Layer werden für alle anderen Layer Logging-, Monitoring- und weitere allgemein verwendete Funktionalitäten zur Verfügung gestellt.

| **Komponente** | **Beschreibung** |
|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Presentation Layer | Implementiert die grafische Schnittstelle zum Benutzer. Weist neben rudimentärer Eingabe- und Steuerungslogik, neben der Darstellung keine weiteren Funktionalitäten auf. |
| Business Logic Layer | Hier werden alle App-spezifischen Funktionalitäten implementiert. Dies beinhaltet zum Beispiel das grafische Aufbereiten der erhaltenen Daten. Anderseits sind Grundfunktionalitäten wie das Abgleichen der aktuellen Position mit dem Point of Interest nicht Bestandteil dieses Layer, sondern serverseitig umgesetzt werden. |
| Persistence Layer | Der Persistence Layer bietet den Datenzugriff auf den lokalen Storage der App. Damit werden zum Beispiel Fotos gespeichert. |
| Data Service Layer | Dieser Layer bietet den Zugriff auf unseren eigenen Web-Daten-Service, wie auch auf die Google Maps Services zum Anzeigen der Karte und Berechnen der Route. |
| Supporting Functionalities | Diese Komponente implementiert alle Funktionalitäten, die den anderen Komponenten zur Verfügung stehen wie zum Beispiel Logging und sonstige Monitoring-Funktionalitäten. |

**Web Service:**
Der Webservice stellt als Backend-Komponente sowohl Daten- wie auch funktionale Schnittstelle zur App und zu allen weiteren Systemen oder externen Systemen dar. Er stellt jederzeit den aktuellen Referenzdatenstand und alle grundlegenden nicht zugriffs-system-spezifischen Funktionalitäten an. Dadurch kann eine hohe Datenqualität und Datenkonsistenz sichergestellt werden. Der Web Service muss hierfür eine Datenbank-Anbindung zur Persistierung der Daten aufweisen. Genauso wie die Mobile Application wird der Web Service einen vertikalen Layer für Logging-, Monitoring- und weitere allgemein verwendete Funktionalitäten implementieren.

| **Komponente** | **Beschreibung** |
|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Data Service Layer | Der Data Service Layer stellt das nach aussen öffentlich verfügbare Interface zur Verfügung. Er loggt und behandelt ankommende Requests. |
| Business Logic Layer | Dieser Layer besitzt alle Business-Funktionalitäten, die nicht reine daten-spezifische Aggregation sind, wie zum Beispiel den Check, ob eine Koordinate innerhalb eines Points of Interests ist. |
| Persistence Layer | Implementiert sowohl den eigentlichen Datenzugriff, wie auch die OR-Mapping Logik. Der Layer ist für einen konsistenten, Schreib- und Lesezugriff auch bei mehreren gleichzeitigen abgearbeiteten Requests verantwortlich. |
| Supporting Functionalities | Diese Komponente implementiert alle Funktionalitäten, die den anderen Komponenten zur Verfügung stehen wie zum Beispiel Logging und sonstige Monitoring-Funktionalitäten. |

**External Services:**
Wo bereits Funktionen oder grafische Komponenten bestehen, werden diese über externe Services bezogen und eingebunden. Hierbei werden wir in einem ersten Schritt auf öffentlich zur Verfügung stehende Services zurückgreifen. Als grundlegenden Service werden die Google Maps  Funktionalitäten eingebunden.

Google Maps Services:
Die Funktionalitäten zur Anzeige der Karte, den verschiedenen Point of Interests und zur Berechnung der Route werden nicht selber implementiert. Hierfür binden wir als externen Service die Google Maps Services ein. Die Route und die Point of Interests, die vom eigenen Web-Service geladen werden, werden als Overlay über die Kartenfunktionalität von Google implementiert.

**Tech Stack:**
| Komponente         | Stack                                                                                                                 |
|--------------------|-----------------------------------------------------------------------------------------------------------------------|
| Native Android App | JAVA 8 Android SDK / Android Studio 2.3                                                                               |
| Web Service        | .NET Framework 4.5 C# 5.0 ASP.NET Web-API 2.2 (5.2.3) Entity Framework 6.0 Ninject Dependency Injection Framework 3.2 |
| Web Application    | .NET Framework 4.5 C# 5.0 ASP.NET MVC 5.2.3 (Razor Engine) HTML 5.0 Angular JS 2.2.4 or React JS 15.4.2 JQuery 3.2.1  |
REVIEW by Josef

# Zusätzliche Spezifikationen
TODO by Beni
REVIEW by Nick

# Systemsequenzdiagram
![System Sequenz Diagramm](docs/diagrams/UC1_SystemSequenzDiagram.png)

# Glossar
TODO by Raffaele
REVIEW by Beni
